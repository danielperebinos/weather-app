ScreenManager:
    LoadingScreen:
    HomeScreen:

<LoadingScreen>:
    name: "loading"
    canvas.before:
        Color:
            rgba: 0.11, 0.12, 0.22, 1
        Rectangle:
            size: self.size


    FloatLayout:
        Image:
            source: "assets/loading.png"
            size_hint: None, None
            size: dp(120), dp(120)
            pos_hint: {"center_x": 0.5, "center_y": 0.5}

        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(20)
            padding: dp(20)
            size_hint: 0.8, 0.5
            pos_hint: {"center_x": 0.5, "center_y": 0.5}

            MDSpinner:
                size_hint: None, None
                size: dp(46), dp(46)
                active: True
                pos_hint: {"center_x": 0.5}

<HomeScreen>:
    name: "home"
    MDBoxLayout:
        orientation: 'vertical'
        spacing: dp(20)
        padding: dp(20)

        MDLabel:
            text: "ðŸŒ¤ Weather App"
            halign: "center"
            font_style: "H4"
            theme_text_color: "Primary"

        MDTextField:
            id: city_input
            size_hint_x: 0.9
            pos_hint: {"center_x": 0.5}
            mode: "rectangle"
            icon_right: "magnify"

        MDRaisedButton:
            text: "Get Weather"
            size_hint_x: 0.5
            pos_hint: {"center_x": 0.5}
            md_bg_color: app.theme_cls.primary_color
            on_release: root.get_weather()

        MDSpinner:
            id: spinner
            size_hint: None, None
            size: dp(46), dp(46)
            pos_hint: {"center_x": 0.5}
            active: False

        MDCard:
            id: weather_card
            size_hint_x: 0.9
            pos_hint: {"center_x": 0.5}
            padding: dp(20)
            elevation: 4
            orientation: 'vertical'
            md_bg_color: app.theme_cls.bg_normal
            opacity: 0

        FitImage:
            id: weather_icon
            source: ""
            size_hint_y: None
            height: dp(100)
            pos_hint: {"center_x": 0.5}

        MDLabel:
            id: weather_label
            text: "Weather information will appear here"
            align: "center"
            theme_text_color: "Secondary"
            font_style: "Body1"
            canvas.before:
                Color:
                    rgba: app.theme_cls.bg_normal
                Rectangle:
                    size: self.size
                    pos: self.pos

